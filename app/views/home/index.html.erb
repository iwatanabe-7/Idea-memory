<% content_for :scss do %>
  <%= stylesheet_link_tag 'home' %>
<% end %>
<% if !user_signed_in? %>
  <div class="des rounded-5 no-p relative fadeUp">
    <h1 class="mb-5 normal" style="text-align:left;">「アイデア出しをもっと手軽に」</h1>
    <%= image_tag 'product_des_1.png', size:18*18, alt: 'product-des', class: "absolute" %>
    <p>Idea Memory(Imemo)とは、</p>
    <p class="mb-5 normal">無料でマンダラートを作成できるサービスです。</p>
    <p class="normal">マンダラートを使い、スムーズにアイデア出しや目標決めを行いましょう</p>
  </div>
  <div class="des-2 rounded-5 no-p fadeUp">
    <ul class="mb-3 normal progrem">
        <li class="mb-3">マンダラートを印刷して書くのは、正直面倒</li>
        <li class="mb-3">中央のマスに書いたことを、外側のマスに書かないといけない</li>
        <li class="mb-3">すべてのマスを埋められない</li>
        <li class="mb-3">ほかの人のマンダラートを参考にして、書きたい</li>
    </ul>
    <p class="my-5 normal">そんな悩みを解決するサービスです。</p>
    <p class="mb-5 normal">アイデア出しや自己分析、目標決めをするときに、ご活用ください</p>
  </div>
  <h2 class="no-p">マンダラート作成機能</h2>
  <div class="visible no-p">
    スマホを横にしてください
  </div>
  <div class="title hidden">
    <input type="text" placeholder="タイトルを入力してください">
  </div>
  <div class="container-fluid center-block mb-4 hidden" style="max-width: 1000px; mx-height: 1000px;">
    <div class="row">
      <% range = 1..9 %>
      <% range.each do |i| %>
        <div class="col-sm-4 col-xs-4 p-1 fadeUp">
          <div class="container-fluid">
            <div class="row">
              <% range.each do |j| %>
                <div class="col-4 p-0">
                  <textarea class="cell" id="body<%= i %><%= j %>" cols="5" rows="2" wrap="soft" style=""></textarea>
                </div>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
    <button id="pdf_print" class="btn btn-success print no-p mb-5 hidden">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
        <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
      </svg>
      pdfで保存
    </button>
  </div>
<% else %>
  <p class="mt-5">マンダラートを使ってアイデア出しを始めてみましょう</p>
  <p class="mb-5">今日もアイデアが溢れる1日をお過ごしください</p>
  <h2 class="m-5">マンダラート機能</h2>
  <%= link_to mandalas_path do %>
    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-grid-3x3-gap-fill" viewBox="0 0 16 16">
      <path d="M1 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V2zM1 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V7zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V7zM1 12a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2z"/>
    </svg>
  <% end %>
<% end %>

<script>
  for (let i = 1; i < 10; i++) {
    document.addEventListener("DOMContentLoaded", function () {
      var inTextarea1 = document.getElementById(`body5${i}`);
      var outTextarea1 = document.getElementById(`body${i}5`);
      
      var inTextarea2 = document.getElementById(`body${i}5`);
      var outTextarea2 = document.getElementById(`body5${i}`);
      
      inTextarea1.addEventListener("input", function () {
          outTextarea1.value = inTextarea1.value;
      });

      inTextarea2.addEventListener("input", function () {
          outTextarea2.value = inTextarea2.value;
      });
    });
  }
</script>

<script>
  var printButton = document.getElementById("pdf_print");
  printButton.addEventListener("click", function() {
    window.print();
  });
</script>
