<% content_for :scss do %>
  <%= stylesheet_link_tag 'home' %>
<% end %>
<h1 class="m-5 no-p">Idea Memory</h1>
<% if !user_signed_in? %>
  <h2 class="mb-5 no-p">概要</h2>
  <%= image_tag 'Imemo_image.png', width: 700, alt: 'Imemo Image' %>
  <p class="mt-5 no-p">Idea Memoryとは、</p>
  <p class="no-p">アイデア出しをするためのマンダラートを作成できるWebサービスです</p>
  <p class="mb-5 no-p">新規登録・ログインをして早速始めてみましょう</p>
  <div class="mt-5" style="background-color:#f0f8ff;">
    <h3 class="mt-5 pt-5 no-p">主な機能</h3>
    <h4 class="m-5 no-p">マンダラート作成機能</h4>
    <div class="title">
      <input type="text" placeholder="タイトルを入力してください">
    </div>
    <div class="container-fluid center-block mb-4" style="max-width: 800px;">
      <div class="row">
        <% range = 1..9 %>
        <% range.each do |i| %>
          <div class="col-sm-4 p-1">
            <div class="container-fluid">
              <div class="row">
                <% range.each do |j| %>
                  <div class="col-4 p-0">
                    <textarea class="cell" id="body<%= i %><%= j %>" cols="5" rows="2" wrap="soft" style=""></textarea>
                  </div>
                <% end %>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>
    <button id="pdf_print" class="btn btn-success print no-p">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
        <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
      </svg>
      pdfで保存
    </button>
  </div>
<% else %>
  <p>マンダラートを使ってアイデア出しを始めてみましょう</p>
  <p class="mb-5">今日もアイデアが溢れる1日をお過ごしください</p>
  <h2 class="m-5">マンダラート機能</h2>
  <%= link_to mandalas_path do %>
    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-grid-3x3-gap-fill" viewBox="0 0 16 16">
      <path d="M1 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V2zM1 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V7zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V7zM1 12a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2z"/>
    </svg>
  <% end %>
<% end %>

<script>
  for (let i = 1; i < 10; i++) {
    document.addEventListener("DOMContentLoaded", function () {
      var inTextarea1 = document.getElementById(`body5${i}`);
      var outTextarea1 = document.getElementById(`body${i}5`);
      
      var inTextarea2 = document.getElementById(`body${i}5`);
      var outTextarea2 = document.getElementById(`body5${i}`);
      
      inTextarea1.addEventListener("input", function () {
          outTextarea1.value = inTextarea1.value;
      });

      inTextarea2.addEventListener("input", function () {
          outTextarea2.value = inTextarea2.value;
      });
    });
  }
</script>

<script>
  var printButton = document.getElementById("pdf_print");
  printButton.addEventListener("click", function() {
    window.print();
  });
</script>
